{"version":3,"sources":["webpack:///webpack/bootstrap cebf93dffb93b8e57002","webpack:///./public/scripts/app.js","webpack:///./public/scripts/modal.js"],"names":["console","log","state","projects","tasks","focusedFormId","errorMessage","duplicateProject","emptyProject","duplicateTask","emptyTask","customInputNan","minutesToHours","min","hours","Math","floor","minutes","round","Task","name","totalTime","id","Number","history","prototype","addTime","elems","t","push","renderProjectList","reset","undo","length","pop","Project","position","calculateTotalProjectTime","map","task","reduce","a","b","pushNewProject","data","projectName","_id","createProject","newProject","$","ajax","url","type","success","error","err","status","projectError","text","responseText","setState","project","taskName","getProjects","callback","getJSON","findIndexById","array","findIndex","element","pushNewTask","parentProjectId","projectIndex","projectList","find","focus","createTask","newTask","updateTask","projectId","updatedTask","deleteProject","_project","confirmMessage","onConfirm","result","splice","deleteTask","_task","taskIndex","renderTask","template","click","on","e","preventDefault","input","val","isNaN","renderTaskList","taskListHtml","reverse","renderProject","taskFormId","taskErrorId","taskListWrapperHtml","projectTemplate","html","append","stopPropagation","addClass","removeClass","trim","taskError","projectListHtml","sort","initProjectSubmitHandler","projectInput","initbodyClickHandler","target","hasClass","main","timeInputError","myConfirm","message","okButtonClass","remove","event","keyCode","off"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;AAEAA,SAAQC,GAAR,CAAY,MAAZ;;AAEA,KAAMC,QAAQ;AACZC,aAAU,EADE;AAEZC,UAAO,EAFK;AAGZC,kBAAe,IAHH;AAIZC,iBAAc;AACZC,uBAAkB,kEADN;AAEZC,mBAAc,mCAFF;AAGZC,oBAAe,4DAHH;AAIZC,gBAAW,gCAJC;AAKZC,qBAAgB;AALJ;AAJF,EAAd;;AAaA,KAAMC,iBAAiB,SAAjBA,cAAiB,CAACC,GAAD,EAAS;AAC9B,OAAMC,QAAQC,KAAKC,KAAL,CAAWH,MAAI,EAAf,CAAd;AACA,OAAMI,UAAUF,KAAKG,KAAL,CAAWL,MAAM,EAAjB,CAAhB;;AAEA,UAAUC,KAAV,WAAqBG,OAArB;AACD,EALD;;AAOA,UAASE,IAAT,CAAcC,IAAd,EAAoBC,SAApB,EAA+BpB,GAA/B,EAAqCqB,EAArC,EAAyC;AACvC,QAAKF,IAAL,GAAYA,IAAZ;AACA,QAAKC,SAAL,GAAiBE,OAAOF,SAAP,CAAjB;AACA,QAAKpB,GAAL,GAAWA,GAAX;AACA,QAAKqB,EAAL,GAAUA,EAAV;AACA,QAAKE,OAAL,GAAe,CAACH,SAAD,CAAf;AACD;;AAEDF,MAAKM,SAAL,CAAeC,OAAf,GAAyB,UAASxB,KAAT,EAAgByB,KAAhB,EAAuBC,CAAvB,EAA0B;AACjD,OAAI,KAAKP,SAAL,GAAiBO,CAAjB,GAAqB,CAAzB,EAA6B;AAC3B,UAAKP,SAAL,GAAiB,CAAjB;AACD,IAFD,MAEO;AACL,UAAKA,SAAL,IAAkBO,CAAlB;AACA,UAAKJ,OAAL,CAAaK,IAAb,CAAkB,KAAKR,SAAvB;;AAEAS,uBAAkB5B,KAAlB,EAAyByB,KAAzB;AACD;AACF,EATD;;AAWAR,MAAKM,SAAL,CAAeM,KAAf,GAAuB,UAAS7B,KAAT,EAAgByB,KAAhB,EAAuB;AAC5C,QAAKN,SAAL,GAAiB,CAAjB;AACA,QAAKG,OAAL,CAAaK,IAAb,CAAkB,CAAlB;;AAEAC,qBAAkB5B,KAAlB,EAAyByB,KAAzB;AACD,EALD;;AAOAR,MAAKM,SAAL,CAAeO,IAAf,GAAsB,UAAS9B,KAAT,EAAgByB,KAAhB,EAAuB;AAC3C,OAAI,KAAKH,OAAL,CAAaS,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,UAAKT,OAAL,CAAaU,GAAb;AACA,UAAKb,SAAL,GAAiB,KAAKG,OAAL,CAAa,KAAKA,OAAL,CAAaS,MAAb,GAAsB,CAAnC,CAAjB;AACD;;AAEDH,qBAAkB5B,KAAlB,EAAyByB,KAAzB;AACD,EAPD;;AASA,UAASQ,OAAT,CAAiBf,IAAjB,EAAuBgB,QAAvB,EAAiChC,KAAjC,EAAwCkB,EAAxC,EAA4C;AAC1C,QAAKF,IAAL,GAAYA,IAAZ;AACA,QAAKgB,QAAL,GAAgBA,QAAhB;AACA,QAAKhC,KAAL,GAAaA,KAAb;AACA,QAAKkB,EAAL,GAAUA,EAAV;AACD;;AAEDa,SAAQV,SAAR,CAAkBY,yBAAlB,GAA8C,YAAY;AACxD,UAAO,KAAKjC,KAAL,CAAW6B,MAAX,GAAoB,KAAK7B,KAAL,CAAWkC,GAAX,CAAe;AAAA,YAAQC,KAAKlB,SAAb;AAAA,IAAf,EAAuCmB,MAAvC,CAA8C,UAACC,CAAD,EAAGC,CAAH;AAAA,YAASD,IAAEC,CAAX;AAAA,IAA9C,CAApB,GAAkF,CAAzF;AACD,EAFD;;AAIA,KAAMC,iBAAiB,SAAjBA,cAAiB,CAACzC,KAAD,EAAQyB,KAAR,EAAeiB,IAAf,EAAwB;AAC7C1C,SAAMC,QAAN,CAAe0B,IAAf,CAAoB,IAAIM,OAAJ,CAAYS,KAAKC,WAAjB,EAA8BD,KAAKR,QAAnC,EAA6CQ,KAAKxC,KAAlD,EAAyDwC,KAAKE,GAA9D,CAApB;AACAhB,qBAAkB5B,KAAlB,EAAyByB,KAAzB;AACD,EAHD;;AAKA,KAAMoB,gBAAgB,SAAhBA,aAAgB,CAAC7C,KAAD,EAAQyB,KAAR,EAAeP,IAAf,EAAwB;AAC5C,OAAM4B,aAAa;AACjB,oBAAe5B,IADE;AAEjB,iBAAYlB,MAAMC,QAAN,CAAe8B,MAFV;AAGjB,cAAS;AAHQ,IAAnB;;AAMAgB,KAAEC,IAAF,CAAO;AACLC,qBADK;AAELC,WAAM,MAFD;AAGLR,WAAMI,UAHD;AAILK,cAAS;AAAA,cAAQV,eAAezC,KAAf,EAAsByB,KAAtB,EAA6BiB,IAA7B,CAAR;AAAA,MAJJ;AAKLU,YAAO,oBAAO;AACZ,WAAIC,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AACtB7B,eAAM8B,YAAN,CAAmBC,IAAnB,CAAwBH,IAAII,YAA5B;AACD;AACF;AATI,IAAP;AAYD,EAnBD;;AAqBA,KAAMC,WAAW,SAAXA,QAAW,CAAC1D,KAAD,EAAQyB,KAAR,EAAeiB,IAAf,EAAwB;AACvC1C,SAAMC,QAAN,GAAiByC,KAAKzC,QAAL,CAAcmC,GAAd,CAAkB,mBAAW;AAC5C,SAAMlC,QAAQyD,QAAQzD,KAAR,CAAckC,GAAd,CAAkB;AAAA,cAAQ,IAAInB,IAAJ,CAAUoB,KAAKuB,QAAf,EAAyBvB,KAAKlB,SAA9B,EAAyCkB,KAAKtC,GAA9C,EAAmDsC,KAAKO,GAAxD,CAAR;AAAA,MAAlB,CAAd;AACA,YAAO,IAAIX,OAAJ,CAAY0B,QAAQhB,WAApB,EAAiCgB,QAAQzB,QAAzC,EAAmDhC,KAAnD,EAA0DyD,QAAQf,GAAlE,CAAP;AACD,IAHgB,CAAjB;;AAKAhB,qBAAkB5B,KAAlB,EAAyByB,KAAzB;AACD,EAPD;;AASA,KAAMoC,cAAc,SAAdA,WAAc,CAAC7D,KAAD,EAAQyB,KAAR,EAAeqC,QAAf,EAA4B;AAC9Cf,KAAEgB,OAAF,CAAU,WAAV,EAAuB;AAAA,YAAQD,SAAS9D,KAAT,EAAgByB,KAAhB,EAAuBiB,IAAvB,CAAR;AAAA,IAAvB;AACD,EAFD;;AAIA,KAAMsB,gBAAgB,SAAhBA,aAAgB,CAACC,KAAD,EAAQ7C,EAAR,EAAe;AACnC,UAAO6C,MAAMC,SAAN,CAAgB;AAAA,YAAWC,QAAQ/C,EAAR,KAAeA,EAA1B;AAAA,IAAhB,CAAP;AACD,EAFD;;AAIA,KAAMgD,cAAc,SAAdA,WAAc,CAACpE,KAAD,EAAQyB,KAAR,EAAe4C,eAAf,EAAgChC,IAAhC,EAAyC;AAC3D,OAAMiC,eAAeN,cAAchE,MAAMC,QAApB,EAA8BoE,eAA9B,CAArB;;AAEArE,SAAMC,QAAN,CAAeqE,YAAf,EAA6BpE,KAA7B,CAAmCyB,IAAnC,CAAwC,IAAIV,IAAJ,CAASoB,KAAKuB,QAAd,EAAwB,CAAxB,EAA4BvB,KAAKtC,GAAjC,EAAsCsC,KAAKO,GAA3C,CAAxC;AACAhB,qBAAkB5B,KAAlB,EAAyByB,KAAzB;AACAA,SAAM8C,WAAN,CAAkBC,IAAlB,OAA2BxE,MAAMG,aAAjC,EAAkDqE,IAAlD,CAAuD,OAAvD,EAAgEC,KAAhE;AACD,EAND;;AAQA,KAAMC,aAAa,SAAbA,UAAa,CAAC1E,KAAD,EAAQyB,KAAR,EAAeP,IAAf,EAAqBmD,eAArB,EAAyC;AAC1D,OAAMM,UAAU;AACd,iBAAYzD,IADE;AAEd,kBAAa,CAFC;AAGd,YAAO;AAHO,IAAhB;;AAMA6B,KAAEC,IAAF,CAAO;AACLC,yBAAkBoB,eADb;AAELnB,WAAM,MAFD;AAGLR,WAAMiC,OAHD;AAILxB,cAAS;AAAA,cAAQiB,YAAYpE,KAAZ,EAAmByB,KAAnB,EAA0B4C,eAA1B,EAA2C3B,IAA3C,CAAR;AAAA,MAJJ;AAKLU,YAAO,oBAAO;AACZ,WAAIC,IAAIC,MAAJ,KAAe,GAAnB,EAAuB;AACrB7B,eAAM8C,WAAN,CAAkBC,IAAlB,kBAAsCH,eAAtC,EAAyDb,IAAzD,CAA8DH,IAAII,YAAlE;AACD;AACF;AATI,IAAP;AAWD,EAlBD;;AAoBA,KAAMmB,aAAa,SAAbA,UAAa,CAAC5E,KAAD,EAAQyB,KAAR,EAAeY,IAAf,EAAqBwC,SAArB,EAAmC;AACpD,OAAMC,cAAc;AAClB,iBAAYzC,KAAKnB,IADC;AAElB,kBAAamB,KAAKlB,SAFA;AAGlB,YAAOkB,KAAKtC,GAHM;AAIlB,YAAOsC,KAAKjB;AAJM,IAApB;;AAOA2B,KAAEC,IAAF,CAAO;AACLC,yBAAkB4B,SAAlB,eAAqCxC,KAAKjB,EADrC;AAEL8B,WAAM,KAFD;AAGLR,WAAMoC;AAHD,IAAP;AAKD,EAbD;;AAeA,KAAMC,gBAAgB,SAAhBA,aAAgB,CAAC/E,KAAD,EAAQyB,KAAR,EAAeuD,QAAf,EAA4B;AAChD,OAAMC,uDAAsDD,SAAS9D,IAA/D,8BAAN;AACA,OAAMgE,YAAY,SAAZA,SAAY,CAACC,MAAD,EAAY;AAC5B,SAAIA,MAAJ,EAAY;AACV,WAAMb,eAAeN,cAAchE,MAAMC,QAApB,EAA8B+E,SAAS5D,EAAvC,CAArB;;AAEA2B,SAAEC,IAAF,CAAO;AACLC,6BAAkB+B,SAAS5D,EADtB;AAEL8B,eAAM,QAFD;AAGLC,kBAAS,iBAACT,IAAD,EAAU;AACjB1C,iBAAMC,QAAN,CAAemF,MAAf,CAAsBd,YAAtB,EAAoC,CAApC;AACA1C,6BAAkB5B,KAAlB,EAAyByB,KAAzB;AACD;AANI,QAAP;AASC;AACJ,IAdD;;AAgBA,yBAAUwD,cAAV,EAA0B,QAA1B,EAAoCC,SAApC;AACD,EAnBD;;AAqBA,KAAMG,aAAa,SAAbA,UAAa,CAACrF,KAAD,EAAQyB,KAAR,EAAe6D,KAAf,EAAsBN,QAAtB,EAAmC;AACpD,OAAMC,uDAAsDK,MAAMpE,IAA5D,OAAN;AACA,OAAMgE,YAAY,SAAZA,SAAY,CAACC,MAAD,EAAY;AAC5B,SAAIA,MAAJ,EAAY;AACV,WAAMb,eAAeN,cAAchE,MAAMC,QAApB,EAA8B+E,SAAS5D,EAAvC,CAArB;AACA,WAAMmE,YAAYvF,MAAMC,QAAN,CAAeqE,YAAf,EAA6BpE,KAA7B,CAAmCgE,SAAnC,CAA6C;AAAA,gBAAQ7B,KAAKjB,EAAL,KAAYkE,MAAMlE,EAA1B;AAAA,QAA7C,CAAlB;;AAEApB,aAAMC,QAAN,CAAeqE,YAAf,EAA6BpE,KAA7B,CAAmCkF,MAAnC,CAA0CG,SAA1C,EAAqD,CAArD;;AAEAxC,SAAEC,IAAF,CAAO;AACLC,6BAAkB+B,SAAS5D,EAA3B,eAAuCkE,MAAMlE,EADxC;AAEL8B,eAAM;AAFD,QAAP;;AAKAtB,yBAAkB5B,KAAlB,EAAyByB,KAAzB;AACD;AACF,IAdD;AAeA,yBAAUwD,cAAV,EAA0B,QAA1B,EAAoCC,SAApC;AACD,EAlBD;;AAoBA,KAAMM,aAAa,SAAbA,UAAa,CAACxF,KAAD,EAAQyB,KAAR,EAAeY,IAAf,EAAqBsB,OAArB,EAAiC;AAClD,OAAMhB,cAAcgB,QAAQzC,IAA5B;AACA,OAAMuE,WAAW1C,yIAImBV,KAAKnB,IAJxB,sDAKqBR,eAAe2B,KAAKlB,SAApB,CALrB,0aAaiBkB,KAAKjB,EAbtB,sEAceiB,KAAKjB,EAdpB,uSAoBoBiB,KAAKjB,EApBzB,2TAAjB;;AA6BCqE,YAASjB,IAAT,CAAc,UAAd,EAA0BkB,KAA1B,CAAiC,YAAM;AACrCrD,UAAKb,OAAL,CAAaxB,KAAb,EAAoByB,KAApB,EAA2B,CAA3B;AACD,IAFD;;AAIAgE,YAASjB,IAAT,CAAc,WAAd,EAA2BkB,KAA3B,CAAkC,YAAM;AACvCrD,UAAKb,OAAL,CAAaxB,KAAb,EAAoByB,KAApB,EAA2B,EAA3B;AAEA,IAHD;;AAKAgE,YAASjB,IAAT,CAAc,WAAd,EAA2BkB,KAA3B,CAAkC,YAAM;AACtCrD,UAAKb,OAAL,CAAaxB,KAAb,EAAoByB,KAApB,EAA2B,EAA3B;AACD,IAFD;;AAIAgE,YAASjB,IAAT,CAAc,WAAd,EAA2BkB,KAA3B,CAAkC,YAAM;AACtCrD,UAAKR,KAAL,CAAW7B,KAAX,EAAkByB,KAAlB;AACD,IAFD;;AAIDgE,YAASjB,IAAT,CAAc,UAAd,EAA0BkB,KAA1B,CAAiC,YAAM;AACrCrD,UAAKP,IAAL,CAAU9B,KAAV,EAAiByB,KAAjB;AACD,IAFD;;AAIAgE,YAASjB,IAAT,CAAc,YAAd,EAA4BkB,KAA5B,CAAmC,YAAM;AACvCL,gBAAWrF,KAAX,EAAkByB,KAAlB,EAAyBY,IAAzB,EAA+BsB,OAA/B;AACD,IAFD;;AAIA8B,YAASjB,IAAT,CAAc,SAAd,EAAyBkB,KAAzB,CAA+B,YAAM;AACnCd,gBAAW5E,KAAX,EAAkByB,KAAlB,EAAyBY,IAAzB,EAA+BsB,QAAQvC,EAAvC;AACAQ,uBAAkB5B,KAAlB,EAAyByB,KAAzB;AACD,IAHD;;AAKCgE,YAASjB,IAAT,yBAAoCnC,KAAKjB,EAAzC,EAA+CuE,EAA/C,CAAkD,QAAlD,EAA4D,UAACC,CAAD,EAAO;AAClEA,OAAEC,cAAF;AACA,SAAMC,QAAQzE,OAAO0B,qBAAmBV,KAAKjB,EAAxB,EAA8B2E,GAA9B,EAAP,CAAd;;AAEA,SAAIC,MAAMF,KAAN,CAAJ,EAAkB;AAChB/C,kCAAyBV,KAAKjB,EAA9B,EAAoCoC,IAApC,CAAyCxD,MAAMI,YAAN,CAAmBK,cAA5D;AACD,MAFD,MAEO;AACL4B,YAAKb,OAAL,CAAaxB,KAAb,EAAoByB,KAApB,EAA2BqE,KAA3B;AACA,iBAAKjE,KAAL;AACA+C,kBAAW5E,KAAX,EAAkByB,KAAlB,EAAyBY,IAAzB,EAA+BsB,QAAQvC,EAAvC;AACAQ,yBAAkB5B,KAAlB,EAAyByB,KAAzB;AACD;AACD,IAZD;;AAcA,UAAOgE,QAAP;AACF,EA5ED;;AA8EA,KAAMQ,iBAAiB,SAAjBA,cAAiB,CAACjG,KAAD,EAAQyB,KAAR,EAAekC,OAAf,EAA2B;AAChD,OAAMuC,eAAevC,QAAQzD,KAAR,CAAckC,GAAd,CAAkB;AAAA,YAAQoD,WAAWxF,KAAX,EAAkByB,KAAlB,EAAyBY,IAAzB,EAA+BsB,OAA/B,CAAR;AAAA,IAAlB,CAArB;;AAEA,UAAOuC,aAAaC,OAAb,EAAP;AACD,EAJD;;AAMA,KAAMC,gBAAgB,SAAhBA,aAAgB,CAACpG,KAAD,EAAQyB,KAAR,EAAekC,OAAf,EAA2B;AAC/C,OAAMuC,eAAeD,eAAejG,KAAf,EAAsByB,KAAtB,EAA6BkC,OAA7B,CAArB;AACA,OAAM0C,+BAA4B1C,QAAQvC,EAA1C;AACA,OAAMkF,8BAA4B3C,QAAQvC,EAA1C;AACA,OAAImF,sBAAsBxD,oEAA1B;AACA,OAAIyD,kBAAkBzD,sNAIUY,QAAQzC,IAJlB,sDAKgBR,eAAeiD,QAAQxB,yBAAR,EAAf,CALhB,8GAQTkE,UARS,+BAQ0BA,eAAerG,MAAMG,aAArB,GAAqC,EAArC,GAA0C,MARpE,kVAgBVmG,WAhBU,gDAAtB;;AAmBAC,uBAAoBE,IAApB,CAAyBR,eAAejG,KAAf,EAAsByB,KAAtB,EAA6BkC,OAA7B,CAAzB;AACA6C,mBAAgBE,MAAhB,CAAuBH,mBAAvB;AACAC,qBAAkBzD,6BAA6B2D,MAA7B,CAAoCF,eAApC,CAAlB;;AAEAA,mBAAgBhC,IAAhB,CAAqB,kBAArB,EAAyCkB,KAAzC,CAAgD,UAACE,CAAD,EAAO;AACrDA,OAAEe,eAAF;AACAlF,WAAM8C,WAAN,CAAkBC,IAAlB,CAAuB,gBAAvB,EAAyCoC,QAAzC,CAAkD,MAAlD;AACAnF,WAAM8C,WAAN,CAAkBC,IAAlB,OAA2B6B,UAA3B,EAAyCQ,WAAzC,CAAqD,MAArD,EAA8DrC,IAA9D,CAAmE,OAAnE,EAA4EC,KAA5E;AACAzE,WAAMG,aAAN,QAAyBkG,UAAzB;AACD,IALD;;AAOAG,mBAAgBhC,IAAhB,OAAyB6B,UAAzB,EAAuCV,EAAvC,CAA0C,QAA1C,EAAoD,UAASC,CAAT,EAAY;AAC9DA,OAAEC,cAAF;AACA,SAAM3E,OAAO6B,EAAE,IAAF,EAAQyB,IAAR,CAAa,OAAb,EAAsBuB,GAAtB,EAAb;;AAEA,SAAI,EAAE7E,QAAQ,IAAR,IAAgBA,KAAK4F,IAAL,OAAgB,EAAlC,CAAJ,EAA0C;AACxCrF,aAAMsF,SAAN,CAAgBvD,IAAhB,CAAqB,EAArB;AACAkB,kBAAW1E,KAAX,EAAkByB,KAAlB,EAAyBP,IAAzB,EAA+ByC,QAAQvC,EAAvC;AACA2B,eAAMsD,UAAN,EAAoBN,GAApB,CAAwB,EAAxB;AACD,MAJD,MAIO;AACLtE,aAAM8C,WAAN,CAAkBC,IAAlB,OAA2B6B,UAA3B,EAAyC7B,IAAzC,CAA8C,OAA9C,EAAuDC,KAAvD;AACAhD,aAAM8C,WAAN,CAAkBC,IAAlB,kBAAsCb,QAAQvC,EAA9C,EAAoDoC,IAApD,CAAyDxD,MAAMI,YAAN,CAAmBI,SAA5E;AACD;AACF,IAZD;;AAcAgG,mBAAgBhC,IAAhB,CAAqB,2BAArB,EAAkDkB,KAAlD,CAAwD,YAAM;AAC5DX,mBAAc/E,KAAd,EAAqByB,KAArB,EAA4BkC,OAA5B;AACD,IAFD;;AAIA,UAAO6C,eAAP;AACD,EAtDD;;AAwDA,KAAM5E,oBAAoB,SAApBA,iBAAoB,CAAC5B,KAAD,EAAQyB,KAAR,EAAkB;AAC1C,OAAMuF,kBAAkBhH,MAAMC,QAAN,CACrBmC,GADqB,CACjB,mBAAW;AAAC,YAAOgE,cAAcpG,KAAd,EAAqByB,KAArB,EAA4BkC,OAA5B,CAAP;AAA4C,IADvC,EAErBsD,IAFqB,CAEhB,UAAC1E,CAAD,EAAGC,CAAH;AAAA,YAASD,EAAEL,QAAF,GAAaM,EAAEN,QAAxB;AAAA,IAFgB,EAGrBiE,OAHqB,EAAxB;;AAKA1E,SAAM8C,WAAN,CAAkBkC,IAAlB,CAAuBO,eAAvB;AACD,EAPD;;AASA,KAAME,2BAA2B,SAA3BA,wBAA2B,CAAClH,KAAD,EAAOyB,KAAP,EAAiB;AAChDsB,KAAEtB,MAAMqB,UAAR,EAAoB6C,EAApB,CAAuB,QAAvB,EAAiC,UAACC,CAAD,EAAO;AACtCA,OAAEC,cAAF;AACA,SAAM3E,OAAOO,MAAM0F,YAAN,CAAmBpB,GAAnB,EAAb;;AAEA,SAAI,EAAE7E,QAAQ,IAAR,IAAgBA,KAAK4F,IAAL,OAAgB,EAAlC,CAAJ,EAA0C;AACxCrF,aAAM8B,YAAN,CAAmBC,IAAnB,CAAwB,EAAxB;AACAX,qBAAc7C,KAAd,EAAqByB,KAArB,EAA4BP,IAA5B;AACAO,aAAM0F,YAAN,CAAmBpB,GAAnB,CAAuB,EAAvB;AACD,MAJD,MAIO;AACLtE,aAAM0F,YAAN,CAAmB1C,KAAnB;AACAhD,aAAM8B,YAAN,CAAmBC,IAAnB,CAAwBxD,MAAMI,YAAN,CAAmBE,YAA3C;AACD;AACF,IAZD;AAaD,EAdD;;AAgBA,KAAM8G,uBAAuB,SAAvBA,oBAAuB,CAACpH,KAAD,EAAQyB,KAAR,EAAkB;AAC7CsB,KAAE,MAAF,EAAU4C,EAAV,CAAa,OAAb,EAAsB,UAACC,CAAD,EAAO;AAC3BA,OAAEe,eAAF;AACAlF,WAAM8C,WAAN,CAAkBC,IAAlB,CAAuB,QAAvB,EAAiChB,IAAjC,CAAsC,EAAtC;AACA/B,WAAM8B,YAAN,CAAmBC,IAAnB,CAAwB,EAAxB;;AAEA,SAAI,CAACT,EAAE6C,EAAEyB,MAAJ,EAAYC,QAAZ,CAAqB,gBAArB,CAAD,IACC,CAACvE,EAAE6C,EAAEyB,MAAJ,EAAYC,QAAZ,CAAqB,oBAArB,CADF,IAEC,CAACvE,EAAE6C,EAAEyB,MAAJ,EAAYC,QAAZ,CAAqB,SAArB,CAFN,EAEuC;AACrC7F,aAAM8C,WAAN,CAAkBC,IAAlB,CAAuB,gBAAvB,EAAyCoC,QAAzC,CAAkD,MAAlD;AACA5G,aAAMG,aAAN,GAAsB,IAAtB;AACD;AACF,IAXD;AAYD,EAbD;;AAeA,KAAMoH,OAAO,SAAPA,IAAO,GAAM;AACjB,OAAM9F,QAAQ;AACZqB,iBAAYC,EAAE,mBAAF,CADA;AAEZwB,kBAAaxB,EAAE,eAAF,CAFD;AAGZoE,mBAAcpE,EAAE,oBAAF,CAHF;AAIZQ,mBAAcR,EAAE,gBAAF,CAJF;AAKZgE,gBAAWhE,EAAE,aAAF,CALC;AAMZyE,qBAAgBzE,EAAE,qBAAF;AANJ,IAAd;;AASAc,eAAY7D,KAAZ,EAAmByB,KAAnB,EAA0BiC,QAA1B;AACAwD,4BAAyBlH,KAAzB,EAAgCyB,KAAhC;AACA2F,wBAAqBpH,KAArB,EAA4ByB,KAA5B;AACD,EAbD;;AAeAsB,GAAEwE,IAAF;;;;;;;;iCAhXStG,I;;iCAmCAgB,O;;iCAvDHjC,K;;iCAaAU,c;;iCAqDA+B,c;;iCAKAI,a;;iCAqBAa,Q;;iCASAG,W;;iCAIAG,a;;iCAIAI,W;;iCAQAM,U;;iCAoBAE,U;;iCAeAG,a;;iCAqBAM,U;;iCAoBAG,U;;iCA8EAS,c;;iCAMAG,a;;iCAwDAxE,iB;;iCASAsF,wB;;iCAgBAE,oB;;iCAeAG,I;;;;;;;;;;;;;;ACzXC,KAAME,gCAAY,SAAZA,SAAY,CAACC,OAAD,EAAUC,aAAV,EAAyB7D,QAAzB,EAAsC;AAC7D,OAAM2B,WAAW1C,mLAIiB2E,OAJjB,4KAOsBC,aAPtB,4EAAjB;;AAaAlC,YAASjB,IAAT,CAAc,aAAd,EAA6BkB,KAA7B,CAAmC,YAAM;AACvC5B,cAAS,KAAT;AACAf,OAAE,UAAF,EAAc6E,MAAd;AACD,IAHD;;AAKAnC,YAASjB,IAAT,CAAc,SAAd,EAAyBkB,KAAzB,CAA+B,YAAM;AACnC5B,cAAS,IAAT;AACAf,OAAE,UAAF,EAAc6E,MAAd;AACD,IAHD;;AAKA7E,KAAE,MAAF,EAAU4C,EAAV,CAAa,OAAb,EAAsB,UAASkC,KAAT,EAAe;;AAEnC,SAAGA,MAAMC,OAAN,IAAiB,EAApB,EAAuB;AACrBhE,gBAAS,IAAT;AACAf,SAAE,UAAF,EAAc6E,MAAd;AACA7E,SAAE,MAAF,EAAUgF,GAAV;AACD;AACF,IAPD;;AASAtC,YAASjB,IAAT,CAAc,cAAd,EAA8BkB,KAA9B,CAAoC,YAAM;AACxC3C,OAAE,UAAF,EAAc6E,MAAd;AACD,IAFD;;AAIA7E,KAAE,MAAF,EAAU2D,MAAV,CAAiBjB,QAAjB;AACD,EAtCM;;;;;;;;iCAAMgC,S","file":"./dist/scripts/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cebf93dffb93b8e57002","import { myConfirm } from './modal';\n\nconsole.log('hola')\n\nconst state = {\n  projects: [],\n  tasks: [],\n  focusedFormId: null,\n  errorMessage: {\n    duplicateProject: 'That project already exists. Please use a different project name',\n    emptyProject: 'Please enter a valid project name',\n    duplicateTask: 'That task already exists. Please use a different task name',\n    emptyTask: 'Please enter a valid task name',\n    customInputNan: 'Please enter a valid number in minutes'\n  }\n}\n\nconst minutesToHours = (min) => {\n  const hours = Math.floor(min/60);\n  const minutes = Math.round(min % 60)\n\n  return `${hours}hr ${minutes}m`\n}\n\nfunction Task(name, totalTime, log , id) {\n  this.name = name;\n  this.totalTime = Number(totalTime);\n  this.log = log;\n  this.id = id;\n  this.history = [totalTime];\n}\n\nTask.prototype.addTime = function(state, elems, t) {\n  if (this.totalTime + t < 0)  {\n    this.totalTime = 0;\n  } else {\n    this.totalTime += t;\n    this.history.push(this.totalTime);\n\n    renderProjectList(state, elems);\n  }\n}\n\nTask.prototype.reset = function(state, elems) {\n  this.totalTime = 0;\n  this.history.push(0)\n\n  renderProjectList(state, elems);\n}\n\nTask.prototype.undo = function(state, elems) {\n  if (this.history.length > 1) {\n    this.history.pop();\n    this.totalTime = this.history[this.history.length - 1];\n  }\n\n  renderProjectList(state, elems);\n}\n\nfunction Project(name, position, tasks, id) {\n  this.name = name;\n  this.position = position;\n  this.tasks = tasks;\n  this.id = id;\n}\n\nProject.prototype.calculateTotalProjectTime = function () {\n  return this.tasks.length ? this.tasks.map(task => task.totalTime).reduce((a,b) => a+b) : 0;\n}\n\nconst pushNewProject = (state, elems, data) => {\n  state.projects.push(new Project(data.projectName, data.position, data.tasks, data._id));\n  renderProjectList(state, elems);\n}\n\nconst createProject = (state, elems, name) => {\n  const newProject = {\n    'projectName': name,\n    'position': state.projects.length,\n    'tasks': []\n  };\n\n  $.ajax({\n    url: `/projects`,\n    type: 'POST',\n    data: newProject,\n    success: data => pushNewProject(state, elems, data),\n    error: err => {\n      if (err.status === 409) {\n        elems.projectError.text(err.responseText);\n      }\n    }\n  });\n\n}\n\nconst setState = (state, elems, data) => {\n  state.projects = data.projects.map(project => {\n    const tasks = project.tasks.map(task => new Task (task.taskName, task.totalTime, task.log, task._id));\n    return new Project(project.projectName, project.position, tasks, project._id);\n  });\n\n  renderProjectList(state, elems);\n}\n\nconst getProjects = (state, elems, callback) => {\n  $.getJSON(\"/projects\", data => callback(state, elems, data) );\n}\n\nconst findIndexById = (array, id) => {\n  return array.findIndex(element => element.id === id);\n}\n\nconst pushNewTask = (state, elems, parentProjectId, task) => {\n  const projectIndex = findIndexById(state.projects, parentProjectId);\n\n  state.projects[projectIndex].tasks.push(new Task(task.taskName, 0 , task.log, task._id))\n  renderProjectList(state, elems);\n  elems.projectList.find(`#${state.focusedFormId}`).find(\"input\").focus();\n}\n\nconst createTask = (state, elems, name, parentProjectId) => {\n  const newTask = {\n    'taskName': name,\n    'totalTime': 0,\n    'log': []\n  };\n\n  $.ajax({\n    url: `/projects/${parentProjectId}`,\n    type: 'POST',\n    data: newTask,\n    success: data => pushNewTask(state, elems, parentProjectId, data), \n    error: err => {\n      if (err.status === 409){\n        elems.projectList.find(`#task-error-${parentProjectId}`).text(err.responseText)\n      }\n    }\n  });\n}\n\nconst updateTask = (state, elems, task, projectId) => {\n  const updatedTask = {\n    'taskName': task.name,\n    'totalTime': task.totalTime,\n    'log': task.log,\n    '_id': task.id\n  };\n\n  $.ajax({\n    url: `/projects/${projectId}/tasks/${task.id}`,\n    type: 'PUT',\n    data: updatedTask\n  });\n}\n\nconst deleteProject = (state, elems, _project) => {\n  const confirmMessage = `Are you sure you want to delete \\\"${_project.name}\\\" and all of it's tasks?`;\n  const onConfirm = (result) => {\n    if (result) {\n      const projectIndex = findIndexById(state.projects, _project.id);\n\n      $.ajax({\n        url: `/projects/${_project.id}`,\n        type: 'DELETE',\n        success: (data) => {\n          state.projects.splice(projectIndex, 1);\n          renderProjectList(state, elems);\n        }\n      });\n      \n      }\n  }\n\n  myConfirm(confirmMessage, \"button\", onConfirm);\n}\n\nconst deleteTask = (state, elems, _task, _project) => {\n  const confirmMessage = `Are you sure you want to delete \\\"${_task.name}\\\"?`;\n  const onConfirm = (result) => {\n    if (result) {\n      const projectIndex = findIndexById(state.projects, _project.id);\n      const taskIndex = state.projects[projectIndex].tasks.findIndex(task => task.id === _task.id);\n\n      state.projects[projectIndex].tasks.splice(taskIndex, 1);\n\n      $.ajax({\n        url: `/projects/${_project.id}/tasks/${_task.id}`,\n        type: 'DELETE'\n      });\n\n      renderProjectList(state, elems);\n    }\n  }\n  myConfirm(confirmMessage, \"button\", onConfirm);\n}\n\nconst renderTask = (state, elems, task, project) => {\n  const projectName = project.name;\n  const template = $(\n    `<div class=\"time-mod-wrapper\">\n    <div class=\"time-mod well\">\n      <div class=\"top-row\">\n        <div class=\"task-name name\">${task.name}</div>\n        <span class=\"total-task-time\">${minutesToHours(task.totalTime)}</span>\n      </div>\n    <div class=\"time-controls\">\n      <div class=\"button-group\">\n        <button type=\"button\" class=\"js-btn5 button button-group button-left\">+5m</button>\n        <button type=\"button\" class=\"js-btn15 button button-group\">+15m</button>\n        <button type=\"button\" class=\"js-btn25 button button-group button-right\" value=\"25\">+25m</button>\n      </div>\n      <form id=\"custom-input-form-${task.id}\" class=\"custom-input-form\">\n        <input id=\"custom-input-${task.id}\" type=\"text\" class=\"custom-input\" placeholder=\"+m\" >\n        <button class=\"custom-input-submit-button\" type=\"submit\">\n          <i class=\"fa fa-plus custom-input-submit-icon\" aria-hidden=\"true\"></i>\n        </button>\n      </form>\n    </div>\n        <span id=\"invalid-time-error-${task.id}\" class=\"error\"></span>\n      <div class=\"control-buttons\">\n        <button type=\"button\" class=\"js-reset button\" >Reset</button>\n        <button type=\"button\" class=\"js-undo button\" >Undo</button>\n        <button type=\"button\" class=\"js-delete button\" >Delete</button>\n      </div>\n    </div>\n  </div>`);\n\n   template.find(\".js-btn5\").click( () => {\n     task.addTime(state, elems, 5);\n   });\n\n   template.find(\".js-btn15\").click( () => {\n    task.addTime(state, elems, 15);\n\n   });\n\n   template.find(\".js-btn25\").click( () => {\n     task.addTime(state, elems, 25);\n   });\n\n   template.find(\".js-reset\").click( () => {\n     task.reset(state, elems);\n   });\n\n  template.find(\".js-undo\").click( () => {\n    task.undo(state, elems);\n  });\n\n  template.find(\".js-delete\").click( () => {\n    deleteTask(state, elems, task, project)\n  });\n\n  template.find(\".button\").click(() => {\n    updateTask(state, elems, task, project.id);\n    renderProjectList(state, elems);\n  });\n\n   template.find(`#custom-input-form-${task.id}`).on(\"submit\", (e) => {\n    e.preventDefault();\n    const input = Number($(`#custom-input-${task.id}`).val());\n    \n    if (isNaN(input)) {\n      $(`#invalid-time-error-${task.id}`).text(state.errorMessage.customInputNan);\n    } else {\n      task.addTime(state, elems, input);\n      this.reset;\n      updateTask(state, elems, task, project.id);\n      renderProjectList(state, elems);\n    }\n   });\n\n   return template;\n}\n\nconst renderTaskList = (state, elems, project) => {\n  const taskListHtml = project.tasks.map(task => renderTask(state, elems, task, project));\n  \n  return taskListHtml.reverse();\n}\n\nconst renderProject = (state, elems, project) => {\n  const taskListHtml = renderTaskList(state, elems, project);\n  const taskFormId =`js-task-form-${project.id}`;\n  const taskErrorId = `task-error-${project.id}`;\n  let taskListWrapperHtml = $(`<div id=\"js-task-list-wrapper\" class=\"task-list-wrapper\"></div>`);\n  let projectTemplate = $(\n  `<div id=\"js-project-wrapper\" class=\"project-wrapper well\" >\n    <span class=\"js-delete-project-button delete-project-button\">&times</span>\n    <div class=\"project-header\">\n      <div class=\"project-name\">${project.name}</div>\n      <div class=\"total-project-time\">${minutesToHours(project.calculateTotalProjectTime())}</div>\n    </div>\n    <div class=\"js-add-new-task add-new-task \">Add new task..</div>\n    <form id=${taskFormId} class=\"new-task-form ${taskFormId === state.focusedFormId ? \"\" : \"hide\"}\">\n      <div class=\"no-wrap-input-submit\">\n        <input  class=\"new-task-input name-input\" placeholder=\"Enter Task Name\" type=\"text\"></input>\n          <button class=\"task-submit-button submit-button\">\n            <i class=\"fa fa-plus \" aria-hidden=\"true\"></i>\n          </button>\n      </div>\n    </form>\n    <div id=${taskErrorId} class=\"error task-error\"></div>\n  </div>`)\n  \n  taskListWrapperHtml.html(renderTaskList(state, elems, project));\n  projectTemplate.append(taskListWrapperHtml);\n  projectTemplate = $(`<div class=\"col3\"><div>`).append(projectTemplate);\n    \n  projectTemplate.find(\".js-add-new-task\").click( (e) => {\n    e.stopPropagation();\n    elems.projectList.find('.new-task-form').addClass(\"hide\");\n    elems.projectList.find(`#${taskFormId}`).removeClass(\"hide\") .find(\"input\").focus();\n    state.focusedFormId = `${taskFormId}`;\n  });\n\n  projectTemplate.find(`#${taskFormId}`).on(\"submit\", function(e) {\n    e.preventDefault();\n    const name = $(this).find(\"input\").val();\n\n    if (!(name == null || name.trim() === '')){\n      elems.taskError.text(\"\");\n      createTask(state, elems, name, project.id);\n      $(`#${taskFormId}`).val(\"\");\n    } else {\n      elems.projectList.find(`#${taskFormId}`).find(\"input\").focus();\n      elems.projectList.find(`#task-error-${project.id}`).text(state.errorMessage.emptyTask);\n    }\n  });\n\n  projectTemplate.find(\".js-delete-project-button\").click(() => {\n    deleteProject(state, elems, project);\n  });\n\n  return projectTemplate;\n}\n\nconst renderProjectList = (state, elems) => {\n  const projectListHtml = state.projects\n    .map(project => {return renderProject(state, elems, project)})\n    .sort((a,b) => a.position - b.position)\n    .reverse();\n  \n  elems.projectList.html(projectListHtml);\n}\n\nconst initProjectSubmitHandler = (state,elems) => {\n  $(elems.newProject).on(\"submit\", (e) => {\n    e.preventDefault();\n    const name = elems.projectInput.val();\n\n    if (!(name == null || name.trim() === '')){\n      elems.projectError.text(\"\");\n      createProject(state, elems, name);\n      elems.projectInput.val(\"\");\n    } else {\n      elems.projectInput.focus();\n      elems.projectError.text(state.errorMessage.emptyProject);\n    }\n  });\n}\n\nconst initbodyClickHandler = (state, elems) => {\n  $(\"body\").on(\"click\", (e) => {\n    e.stopPropagation();\n    elems.projectList.find(\".error\").text(\"\");\n    elems.projectError.text(\"\");\n\n    if (!$(e.target).hasClass(\"new-task-input\") \n      && !$(e.target).hasClass('task-submit-button') \n      && !$(e.target).hasClass('fa-plus')) {\n      elems.projectList.find(\".new-task-form\").addClass(\"hide\");\n      state.focusedFormId = null;\n    }\n  });\n}\n\nconst main = () => {\n  const elems = {\n    newProject: $(\"#new-project-form\"),\n    projectList: $(\"#project-list\"),\n    projectInput: $(\"#new-project-input\"),\n    projectError: $(\"#project-error\"),\n    taskError: $(\"#task-error\"),\n    timeInputError: $(\"#invalid-time-error\")\n  };\n\n  getProjects(state, elems, setState);\n  initProjectSubmitHandler(state, elems);\n  initbodyClickHandler(state, elems);\n}\n\n$(main);\n\n\n\n// WEBPACK FOOTER //\n// ./public/scripts/app.js","export const myConfirm = (message, okButtonClass, callback) => {\n  const template = $(`\n    <div id=\"myModal\" class=\"modal-body\">\n      <div class=\"modal-content\">\n         <span id=\"modal-close\">&times;</span>\n          <div id=\"modal-message\">${message}</div>\n          <div id=\"button-wrapper\">\n            <button id=\"btn-cancel\" class=\"modal-btn\">Cancel</button>\n            <button id=\"btn-ok\" class=\"${okButtonClass} modal-btn\">Okay</button>\n          </div>\n      </div>\n    </div>`);\n\n\n  template.find(\"#btn-cancel\").click(() => {\n    callback(false);\n    $(\"#myModal\").remove();\n  });\n\n  template.find(\"#btn-ok\").click(() => {\n    callback(true);\n    $(\"#myModal\").remove();\n  });\n\n  $(\"body\").on('keyup', function(event){\n\n    if(event.keyCode == 13){\n      callback(true);\n      $(\"#myModal\").remove();\n      $(\"body\").off()\n    }\n  });\n\n  template.find(\"#modal-close\").click(() => {\n    $(\"#myModal\").remove();\n  });\n\n  $(\"body\").append(template);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/scripts/modal.js"],"sourceRoot":""}